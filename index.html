<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geolocalização</title>
</head>
<body>
    <h1>Minha Localização Atual</h1>
    <button onclick="getLocation()">Obter Localização</button>
    <p id="status"></p>
    <p id="location"></p>
    <iframe id="map" width="600" src="" height="450" style="border:0" allowfullscreen="" loading="lazy"></iframe>
    <script>
         if ('geolocation' in navigator) {
            // navigator.geolocation.getCurrentPosition(function(position) {
            //     console.log(position)
            //     }, function(error) {
            //         console.log(error)
            //     }

            // )
            const watcher = navigator.geolocation.watchPosition(function(position) {
                console.log(position)
            }, function(error) {
                console.log(error)
            }, {enableHighAccuracy: true, maximumAge: 10000, timeout: 10000})
        } else {
            alert("ooops")
        }
        // if ('geolocation' in navigator) {
        //     const watcher = navigator.geolocation.watchPosition(function(position) {
                
        //     }

        //     )
        // }

    //     function getLocation() {
    //       const status = document.getElementById('status');
    //       const locationOutput = document.getElementById('location');
    //       const mapFrame = document.getElementById('map');

    //       if (!navigator.geolocation) {
    //           status.textContent = 'Geolocalização não é suportada pelo seu navegador';
    //       } else {
    //           status.textContent = 'Localizando…';
    //           navigator.geolocation.getCurrentPosition(success, error);
    //       }

    //       function success(position) {
    //           const latitude = position.coords.latitude;
    //           const longitude = position.coords.longitude;

    //           status.textContent = '';
    //           locationOutput.textContent = `Latitude: ${latitude} °, Longitude: ${longitude} °`;

    //           const mapUrl = 'https://maps.google.pt/maps?hl=pt&q=41.058496800402864,-8.645784800000001&t=&z=17&ie=utf8&iwloc=b&output=embed,&zoom=15&maptype=roadmap';
    //           mapFrame.src = mapUrl;
    //       }

    //       function error() {
    //           status.textContent = 'Não foi possível obter sua localização';
    //       }
    //   }
    </script>
</body>
</html>
